swagger: "2.0"
info:
  version: "0.0.1"
  title: Mahindra Admin Service
# during dev, should point to your local machine
#host: localhost:3000
basePath: /admin/api
# basePath prefixes all resource
schemes:
  # tip: remove http to make production-grade
  - https
securityDefinitions:
  Bearer:
    type: apiKey
    name: Authorization
    in: header
    description: |
      For accessing the API a valid JWT token must be passed in all the queries in
      the 'Authorization' header.


      A valid JWT token is generated by the API and retourned as answer of a call
      to the route /login giving a valid user & password.


      The following syntax must be used in the 'Authorization' header :

          Bearer xxxxxx.yyyyyyy.zzzzzz
# format of bodies a client can send (Content-Type)
consumes:
  - application/json
# format of the responses to the client (Accepts)
produces:
  - application/json
paths:
  /loginUser:
    post:
      tags:
        - "Admin"
      summary: "Login User"
      description: "Signing in the user."
      operationId: "loginUser"
      produces:
        - "application/xml"
        - "application/json"
      parameters:
        - in: "body"
          name: "body"
          description: "Login a User "
          required: true
          schema:
            $ref: "#/definitions/loginUser"
      responses:
        default:
          description: "successful operation"
      x-swagger-router-controller: "UserController"

definitions:
  loginUser:
    type: "object"
    properties:
      userId:
        type: "string"
      password:
        type: "string"
      role:
        type: "string"

  ErrorResponse:
    required:
      - message
    properties:
      message:
        type: string
    xml:
      name: "loginUser"
    example:
      userId: "admin@mail.com"
      password: "password"
      role: "admin"
